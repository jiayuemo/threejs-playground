import{S as i,m as r,M as Q,a as v,C as E,b as f,c as p,D as R,d as z,B as C,V as G,e as P,P as D,W as x,A as O,s as H,f as L,g as N,O as T,h as U,R as F,F as b,T as B}from"./vendor.ee244da1.js";const j=function(){const A=document.createElement("link").relList;if(A&&A.supports&&A.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))t(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const d of s.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&t(d)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerpolicy&&(s.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?s.credentials="include":a.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function t(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}};j();const o=10,w={SNOW:o*.9,STONE:o*.8,DIRT:o*.7,GRASS:o*.5,SAND:o*.3,DIRT2:o*0};function Z(e){let A=new i(0,0,0);const n=Math.floor(Math.pow(Math.random(),.45)*6);let t,a,s,d;for(let m=0;m<n;m++)a=new i(1.2,7,7),s=new i(1.5,7,7),d=new i(.9,7,7),a.translate(-1.85,Math.random()*.3,0),s.translate(0,Math.random()*.3,0),d.translate(1.85,Math.random()*.3,0),t=r([a,s,d]),t.translate(Math.random()*20-10,Math.random()*7+7,Math.random()*20-10),t.rotateY(Math.random()*Math.PI*2),A=r([A,t]);const h=new Q(A,new v({envMap:e,envMapIntensity:.75,flatShading:!0}));return h.position.set(0,o*.55,0),h}function Y(e,A){const n=new Q(new E(17,17,o*.2,50),new f({envMap:A,color:new p("#55aaff").convertSRGBToLinear().multiplyScalar(3),envMapIntensity:.2,roughness:1,metalness:.025,roughnessMap:e,metalnessMap:e}));return n.receiveShadow=!0,n.position.set(0,o*.1,0),n}function J(e,A){const n=new Q(new E(17.1,17.1,o*.25,50,1,!0),new f({envMap:A,map:e,envMapIntensity:.2,side:R}));return n.receiveShadow=!0,n.position.set(0,o*.075,0),n}function k(e,A){const n=new Q(new E(18.5,18.5,o*.1,50),new f({envMap:A,map:e,envMapIntensity:.1,side:R}));return n.receiveShadow=!0,n.position.set(0,-o*.05,0),n}function W(e){const A=Math.random()*.5+1.25,n=new i(.7,8,8);n.translate(e.x,e.z+A*0,e.y);const t=new i(.5,8,8);t.translate(e.x,e.z+A*.6,e.y);const a=new i(.3,7,7);return a.translate(e.x,e.z+A*1,e.y),r([n,t,a])}function S(e){const A=Math.random()*1+1.25,n=new E(0,1.5,A,3);n.translate(e.x,e.z+A*0+.75,e.y);const t=new E(0,1.15,A,3);t.translate(e.x,e.z+A*.6+1,e.y);const a=new E(0,.8,A,3);return a.translate(e.x,e.z+A*1.25+1,e.y),r([n,t,a])}function M(e){const A=Math.random()*.4,n=Math.random()*.4,t=new i(Math.random()*.3+.1,7,7);return t.translate(e.x+A,e.z,e.y+n),t}function X(){const e=new z,A={stone:new C(0,0,0),dirt:new C(0,0,0),dirt2:new C(0,0,0),sand:new C(0,0,0),grass:new C(0,0,0),snow:new C(0,0,0)};let n,t;for(let a=-10;a<=10;a++)for(let s=-10;s<=10;s++)t=K(a,s,e),t.length()<16&&(n=V(t),t.z>w.SNOW?(A.snow=r([A.snow,n]),Math.random()>.4&&(A.snow=r([A.snow,W(t)]))):t.z>w.STONE?(A.stone=r([A.stone,n]),Math.random()>.8&&(A.stone=r([A.stone,M(t)]))):t.z>w.DIRT?(A.dirt=r([A.dirt,n]),Math.random()>.6&&A.grass&&(A.grass=r([A.grass,S(t)]))):t.z>w.GRASS?(A.grass=r([A.grass,n]),Math.random()>.6&&(A.grass=r([A.grass,S(t)]))):t.z>w.SAND?(A.sand=r([A.sand,n]),Math.random()>.8&&A.stone&&(A.stone=r([A.stone,M(t)]))):t.z>w.DIRT2&&(A.dirt2=r([A.dirt2,n]),Math.random()>.8&&A.stone&&(A.stone=r([A.stone,M(t)]))));return A}function V(e){const A=new E(1,1,e.z,6,1,!1);return A.translate(e.x,e.z*.5,e.y),A}function K(e,A,n){const t=(e+A%2*.5)*1.77,a=A*1.535,s=Math.pow((n.noise2D(e*.1,A*.1)+1)*.5,1.5)*o;return new G(t,a,s)}function q(e,A){const n=X();return{stone:I(n.stone,e.stone,A),grass:I(n.grass,e.grass,A),dirt:I(n.dirt,e.dirt,A),dirt2:I(n.dirt2,e.dirt2,A),sand:I(n.sand,e.sand,A),snow:I(n.snow,e.snow,A)}}function I(e,A,n){const t=new f({envMap:n,envMapIntensity:.135,flatShading:!0,map:A}),a=new Q(e,t);return a.castShadow=!0,a.receiveShadow=!0,a}var _="./assets/envmap.5d9bd6d6.hdr",$="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEABAMAAACuXLVVAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAPUExURVA3MWRIN3laP4NmRoxwTSEK5YMAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjEwMPRyoQAAAaNJREFUeNrt2cFtwzAMRmGt0BW0Qlbw/jO1LMtK6Z3goV+ABLJ/B3gHgqL11t4fX5+14nfvvHq9crV3rHrzBWAc4HlyGRf5YP4pV8/TnQOYB4iLWFRhZMlEXH/szQHMA1STqBv5zd9MenMA8wBr5TLLIltHFkw2jv4cwDRANosqifPIGR96cwDzAO+FcQ+O9VhvDmAeIG5lfIaFeo2ob2cOYB6ggnuIrHGhRsfOHMA8QJTHz/K7Kf02iFWvlL05gHmA3CzOrWoa+XBtJn05gHmAOk48Y2O1jjpm7M0BzAP83TZqYLgPmztzAPMA5xDpvEaeoeE+ZOrJAcwDnFOi2BzONlHF058DmAaoMolR4b1p3M2jLwcwD8CeA2DPAbDnANhzAOw5APYcAHsOgD0HwJ4DYM8BsOcA2HMA7DkA9hwAew6APQfAngNgzwGw5wDYcwDsOQD2HAB7DoA9B8CeA2DPAbDnANhzAOw5APYcAHsOgD0HwJ4DYM8BsOcA2HMA7DkA9hwAew6APQfAngNgzwGw5wDYcwDsOQD2HAB7DoA9//cAn/oSjMRkxRX+AAAAAElFTkSuQmCC",AA="./assets/dirt2.994e3b28.jpg",eA="./assets/grass.f442127a.jpg",nA="./assets/sand.a921a962.jpg",tA="./assets/water.7ffb1388.jpg",aA="./assets/stone.d4ea6d10.png",sA="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAkAAAAJGBAMAAABB7ScYAAAAAXNSR0IArs4c6QAAADBQTFRF////+P3/+v3/5fr/7Pv/5/n/3/f/6Pr/4Pj/8fv/9Pz/9vz/3fj/1PT/1vb/7Pr/BjxpuAAABklJREFUeJzt3T+rlnUcBvDnLeSY0UFaajYINDxEi74B6Q1kky1C9AKM42BNgpTSIVxqdIymcElwjhYnQc7k4qKT7vd133j15Tnb5zd+ee5/n/t6tov7t9tZlnWa673lOtNMzsf6MiZXry3X97eW60Zxnpxc+Xm5fonJ3bjW0Wiy+2u5HjaTJ7E+j8n1p8v104vlul2cJyeHb5brdUxexbVORhNAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgRoA0hHcQ8dxXiFjzJBmY6cNOlo8nIck5dx1D9x9Wf5GJnEeHhAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgRoA2jUSPw0O4rZP8xJ0z9sGol/xOROHPVZXP1mPkZ2HePhVxKUrE2CZumY5eX+KC+Pi7zk3wcQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAHaAMpGYhb3mo7irH84ayQ+GDUSLxSNxCxo7op0rJRB4zdVOjILzSTzcmmWlyZB8RtAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQI0AwoC5rZdSxqnSt1zCxfNpXN36JGea6YvN/cdPEY2U5dSVBD3yQos9CUfu/FWz1bTP5sbrp4jPz7AAIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQBtAe6ryVR3FnMwaiZ/EeXIz7LzFlUl8nvIoJrs9QQ87rbO8HMR5cjv1lbJuTqItexITQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIEaAMo94OedRSbRmL2GL8o+ofNZth5Q7k9dvYPj4rz7G079SYvmbKLRTryPPltzryh3GA903FSnAcQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAHaAMqOYtNajEnVSGwmuftzNhLzqGwk/nBtub5pOopx9ZUENZmKSZWXZnJY5CWPyrw8f7pc/zUJiqsDAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAG0A6iv+7o1jkpdotvJlcjMsfFNn8dZSXZ5mXnMT9AAIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQBtAo0Zi7v5c9Q/3tdfz76NG4s1sJOYk7mdlt/AGepags/F+msmHkYUfTy0vWfEFBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECANoCK/uFKlW/WUTwXDcBm8nG0Db87tUZifkRyN8rLo3hhL/aVlw/iPJfiWrdHN/13kZes+AICBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAZkDZbMw9o4tdpM/n5yCbguZHcZ7LcbEbRT206ZleyL5qljjjqJUExQs7yUkc9eQ47E8vL5nWJkGP4w5fZ4LiKECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBGgDaNRIXPnQ5Owjkrn19YOikdh0FFcaiaNvau5GecnXM+y0HsRbvV/kpUnQSl5yUpwHECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAAB2gCKfaW/bjqKUfervpqY31qcNRJz0jQS7xSNxJWOYuxM/m+ToHgZVaf1eE95yUmTl5dFXlYSBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAK0DjRqJuUly9dXEpm042+t52FHMh4/K5krLtchLfsKy6rQ2WZh9iXOYoHz4+EMBAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAG0A6iu/oKCZrvPiHxaRKx/V4P9+O8nJY5CUnr4q8ZMUXECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAAB2gDK4l5UC88Uk6p/eDUagF+NGolXikZiTu4WjcTc6PotwEFj4XWpdtUAAAAASUVORK5CYII=";const c=new P;c.background=new p("#FFEECC");const y=new D(45,innerWidth/innerHeight,.1,1e3);y.position.set(-17,31,33);const g=new x({antialias:!0});g.setSize(innerWidth,innerHeight);g.toneMapping=O;g.outputEncoding=H;g.physicallyCorrectLights=!0;g.shadowMap.enabled=!0;g.shadowMap.type=L;document.body.appendChild(g.domElement);const l=new N(new p("#FFCB8E").convertSRGBToLinear().convertSRGBToLinear(),80,200);l.position.set(10,20,10);l.castShadow=!0;l.shadow.mapSize.width=512;l.shadow.mapSize.height=512;l.shadow.camera.near=.5;l.shadow.camera.far=500;c.add(l);const u=new T(y,g.domElement);u.target.set(0,0,0);u.dampingFactor=.05;u.enableDamping=!0;(async function(){const e=new U(g),A=await new F().setDataType(b).loadAsync(_),n=e.fromEquirectangular(A).texture,t={dirt:await new B().loadAsync($),dirt2:await new B().loadAsync(AA),grass:await new B().loadAsync(eA),sand:await new B().loadAsync(nA),water:await new B().loadAsync(tA),stone:await new B().loadAsync(aA),snow:await new B().loadAsync(sA)},a=q(t,n);c.add(a.stone,a.grass,a.dirt,a.dirt2,a.sand,a.snow);const s=Z(n);c.add(s);const d=Y(t.water,n);c.add(d);const h=J(t.dirt,n);c.add(h);const m=k(t.dirt2,n);c.add(m),g.setAnimationLoop(()=>{u.update(),g.render(c,y)})})();
